# MLP-W2V-Gender-Keras

## 1m 的数据量

user_id_num=373489, creative_id_num=203603

### 原始数据生成的数据序列

#### user_id_num=14000

[user_id_num = 14000,creative_id_num = 7000, epochs = 10,embedding_size=200]

模型预测-->损失值 = 0.4021855681964329，精确度 = 0.8614285588264465

#### user_id_num = 20000

##### creative_id_num = 11500

<!-- NOTE:creative_id_num = 11500 接近最优值 随着 creative_id_num 的增长，精确度越来越高，可能是提供的信息越来越多的缘故 -->

[user_id_num = 20000,creative_id_num = 11500, epochs = 7,embedding_size=200]

模型预测-->损失值 = 0.3998131538391113，精确度 = 0.8664000034332275

sum(abs(predictions>0.5-y_test_scaled))/sum(y_test)= 83.1%

[user_id_num = 20000,creative_id_num = 11500, epochs = 7, embedding_size=creative_id_num/75]

模型预测 -->损失值 = 0.40075085363388063，精确度 = 0.8619999885559082

sum(abs(predictions>0.5-y_test_scaled))/sum(y_test)= 85.8%

[user_id_num = 20000,creative_id_num = 11500, epochs = 7, embedding_size=creative_id_num/100]

模型预测-->损失值 = 0.38599011869430544，精确度 = 0.8659999966621399

sum(abs(predictions>0.5-y_test_scaled))/sum(y_test)= 83.3%

##### creative_id_num = 125005

[user_id_num = 20000,creative_id_num = 12500, epochs = 7, embedding_size=creative_id_num/100]

模型预测-->损失值 = 0.3867114294528961，精确度 = 0.8646000027656555

sum(abs(predictions>0.5-y_test_scaled))/sum(y_test)= 84.2%

[user_id_num = 20000,creative_id_num = 12500, epochs = 10, embedding_size=creative_id_num/100]

模型预测-->损失值 = 0.48680103874206543，精确度 = 0.8622000217437744

sum(abs(predictions>0.5-y_test_scaled))/sum(y_test) =  85.7 %

#### user_id_num =28000

<!--NOTE:这个最优，可能是因为 91 天内读取素材数目超过6个：28012，91 天内读取素材数目超过 6 个可以提供充分的分类信息-->

[user_id_num =28000,creative_id_num = int(user_id_num * 2 / 3), epochs = 7, embedding_size=creative_id_num/100]

模型预测-->损失值 = 0.40562467643192834，精确度 = 0.8788571357727051

sum(abs(predictions>0.5-y_test_scaled))/sum(y_test_scaled) =  75.71428571428571 %

#### user_id_num =30000

##### creative_id_num = 11500

[user_id_num =30000,creative_id_num = 11500, epochs = 7, embedding_size=creative_id_num/100]

模型预测-->损失值 = 0.3903043457349141，精确度 = 0.8678666949272156

sum(abs(predictions>0.5-y_test_scaled))/sum(y_test)= 82.2%

##### creative_id_num = 15000

[user_id_num =30000,creative_id_num = 15000, epochs = 7, embedding_size=creative_id_num/100]

模型预测-->损失值 = 0.38081181917190554，精确度 = 0.8708000183105469

sum(abs(predictions>0.5-y_test_scaled))/sum(y_test_scaled) =  80.34825870646766 %

##### creative_id_num = 17000

[user_id_num =30000,creative_id_num = 17000, epochs = 7, embedding_size=creative_id_num/100]

模型预测-->损失值 = 0.38891106843948364，精确度 = 0.8706666827201843

sum(abs(predictions>0.5-y_test_scaled))/sum(y_test_scaled) =  80.43117744610282 %

##### creative_id_num = 20000

[user_id_num =30000,creative_id_num = 20000, epochs = 7, embedding_size=creative_id_num/100]

模型预测-->损失值 = 0.3896093798955282，精确度 = 0.8717333078384399

sum(abs(predictions>0.5-y_test_scaled))/sum(y_test_scaled) =  79.76782752902156 %

#### user_id_num =35000

[user_id_num =35000,creative_id_num = int(user_id_num * 2 / 3), epochs = 7, embedding_size=creative_id_num/100]

模型预测-->损失值 = 0.4136177837235587，精确度 = 0.8762285709381104

sum(abs(predictions>0.5-y_test_scaled))/sum(y_test_scaled) =  76.69971671388102 %

#### user_id_num =37350

[user_id_num =37350,creative_id_num = int(user_id_num * 2 / 3), epochs = 7, embedding_size=creative_id_num/100]

模型预测-->损失值 = 0.3889377001432822，精确度 = 0.8657100200653076

sum(abs(predictions>0.5-y_test_scaled))/sum(y_test_scaled) =  82.71767810026385 %

#### user_id_num =40000

[user_id_num =40000,creative_id_num = int(user_id_num * 2 / 3), epochs = 7, embedding_size=creative_id_num/100]

模型预测-->损失值 = 0.37648941814899445，精确度 = 0.871999979019165
sum(abs(predictions>0.5-y_test_scaled))/sum(y_test_scaled) =  78.43137254901961 %

<!--用户和素材数目增长到一定程度，就不会再增长，是因为新的数据，噪声增加的部分已经超过信息增加的部分-->

### 使用填充了 0 的天数作为新的特征

#### user_id_num =28000

[user_id_num =28000,creative_id_num = int(user_id_num * 2 / 3), epochs = 20, embedding_size=creative_id_num/100]

模型预测-->损失值 = 0.4873011335986001，精确度 = 0.8668571710586548

sum(abs(predictions>0.5-y_test_scaled))/sum(y_test_scaled) =  81.04347826086956 %

#### user_id_num =32000

[user_id_num =32000,creative_id_num = int(user_id_num * 2 / 3), epochs = 7, embedding_size=creative_id_num/100]

模型预测-->损失值 = 0.3894980968236923，精确度 = 0.8647500276565552
sum(abs(predictions>0.5-y_test_scaled))/sum(y_test_scaled) =  82.21884498480243 %

<!-- NOTE:`click_log` 中 `all_log_valid_1m` 中 访问素材次数超过 6 次的用户数=31791，7 次的用户数=24928 访问素材的个数超过 5 个的用户数=35548，6 个的用户数=26771 -->